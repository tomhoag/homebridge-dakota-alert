
<p align="center">

<img src="https://github.com/homebridge/branding/raw/master/logos/homebridge-wordmark-logo-vertical.png" width="150">

</p>


# Dakota Alert Homebridge Plugin

This is a homebridge plugin to expose alerts from the Dakota Alert RE-4k Plus wireless receiver.  The wireless receiver
is used to receive the motion alert signals from the Dakota Alert Directional Wireless Probe Transmitter (DAPT-4000).

The receiver has two form "C" relays that may be programmed to close when an arrival or departure detection are 
generated by the transmitter.  Complete instructions on how to configure the receiver relays may be found in the 
[RE-4k Plus User Guide](https://dakotaalert.com/manuals-downloads/#34-26-wpfd-4000-series) under 'Advanced Setup'.

This plugin is likely only useful when running homebridge on a Raspberry Pi as it makes use of the 
[onoff](https://www.npmjs.com/package/onoff) GPIO library.

## Installation & Configuration

1. Install homebridge using: npm install -g homebridge
2. Install this plugin: npm install -g homebridge-dakota-alert
3. Connect the ground and NO (normally open) contacts of a receiver relay to a ground pin and GPIO pin on the Raspberry Pi.
4. Repeat step 3 if you are using both relays.
5. Update your configuration file.  See the example below or using the plugin settings.

### Using the plugin settings page:

Configure each alert the GPIO pin and a corresponding name (e.g. 'Arrival')

### Editing the config.json file: 

Add a section to "accessories" that looks like this:

```
"accessories": 
    {
    "name": "Dakota",
    "alerts": [
        {
            "label": "Arrival",
            "pin": 4
        },
        {
            "label": "Departure",
            "pin": 3
        }
    ],
    "accessory": "DakotaAlert"
}
```


